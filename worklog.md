# 작업 메모

## 1. 주유 관리 패널 개선
- 가득 주유만 보기 기본값을 해제하고, 상단 버튼/요약 영역을 재구성했습니다.
- 주간/월간/연간 조회 범위를 선택하면 총 주유비/건수/마지막 주유 등의 통계가 즉시 갱신되도록 Summary 상태를 추가했습니다.

## 2. 정비 이력 패널 상단 구조 변경
- 상단 버튼을 좌측으로 정렬하고, 우측에 조회 기간 드롭다운(주간/월간/연간)을 추가했습니다.
- 선택된 기간의 정비 기록을 기반으로 총 비용, 건수, 마지막 정비일, 평균 비용을 재계산하도록 했습니다.

## 3. 소모품/필터/오일 패널 개선
- ecomputeUsageStats 헬퍼를 도입해 이력 삭제 직후에도 각 카드가 “교체 정보를 입력해주세요” 상태로 즉시 초기화되도록 했습니다.
- userId 전달 누락으로 발생하던 오류를 수정했습니다.

## 4. 법적 서류 관리 패널 개선
- 섹션별 저장 버튼을 추가하고, 저장된 모든 기록을 하단 패널에서 선택/확인할 수 있도록 했습니다.
- 저장 시 선택한 섹션만 저장되며, 내부 상태와 목록이 자동으로 갱신됩니다.
## 5. UI/UX 개선 계획
- 정비/주유/보험 패널 상단에 `요약 정보`·`상세 내역` 탭을 추가해 진입 즉시 원하는 레이어를 전환하고, 탭 헤더는 sticky 처리해 스크롤 중에도 전환이 가능하도록 개선합니다.
- 요약 탭에는 핵심 지표 카드·필터·CTA 등 한눈에 확인해야 하는 요소만 남기고, 상세 탭에는 리스트/히스토리/입력 폼 등 장문의 정보를 배치해 스크롤 부담을 줄입니다.
- 오일/필터/소모품 패널은 리스트에서 항목별 핵심 데이터(남은 거리·기간·알림 상태)를 기본으로 노출하고, 상세 편집은 하단 시트나 전용 뷰로 분리해 비교성과 집중도를 높입니다.
- 소모품 항목 그룹을 카테고리 탭 또는 Pill 형태로 모아 한 번에 표시되는 카드 수를 줄이고, 위험/주의 상태는 컬러 배지와 프로그레스 바로 즉시 식별 가능하게 합니다.
- 상세 뷰 전환 시 기존 기록·설정 편집·알림 토글 버튼은 그대로 유지하되, 탭 전환에 따라 필요한 데이터만 재요청하도록 훅을 정리해 성능을 확보합니다.
### 5.1 단계별 세부 계획
1. 공통 탭 컴포넌트 도입
   - 정비/주유/보험 패널 상단에 `요약 정보`/`상세 내역` 탭을 렌더링하는 공용 헤더 컴포넌트를 추가한다.
   - 각 패널 컴포넌트에서 탭 상태(`useState`)를 관리하고, 탭 클릭 이벤트로 상태를 전환하도록 연결한다.
   - sticky 클래스를 적용해 스크롤 중에도 탭이 항상 보이도록 Tailwind 유틸(`sticky top-0 z-10`)을 부여한다.

2. 요약/상세 콘텐츠 분리
   - 기존 JSX를 `SummarySection`, `DetailSection` 등 서브 컴포넌트로 분할하고, 탭 상태에 따라 조건부 렌더링한다.
   - 요약 섹션에는 카드·필터·CTA 등 핵심 모듈만 남기고, 상세 섹션에는 리스트/히스토리/입력 폼을 이동시킨다.
   - 탭이 바뀌어도 기존 기능(추가 버튼, 필터, 모달)이 사라지지 않도록 각 섹션에 동일한 핸들러와 상태를 전달한다.

3. 요약 카드 스타일 조정
   - 요약 카드 안에 Material Symbols 아이콘을 배치하고, 상태/카테고리별로 `bg-emerald-100`, `bg-amber-100`, `bg-sky-100` 등 유사 계열 색상을 적용한다.
   - 타이포 계층을 정리해 지표 값은 `text-xl~2xl`, 보조 설명은 `text-xs`, 카드 제목은 `text-sm`로 맞춘다.
   - 탭 내 추가 버튼·필터 스트립을 유지하되 위치를 상단 우측 또는 카드 인라인으로 조정해 탭 전환 없이도 접근 가능하게 한다.
